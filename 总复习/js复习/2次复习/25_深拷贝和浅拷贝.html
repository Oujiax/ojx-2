<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        深拷贝和浅拷贝
     -->
    <script>
        let obj1 = {
            name: 'lisi',
            age: 20,
            brother: {
                name: 'wangwu',
                age: 23,
            }
        }
        // 这是赋值，不是拷贝
        let obj2 = obj1;
        console.log(obj2);
        obj1.name = "wangwu";
        console.log('obj1',obj1);
        console.log('obj2',obj2);

        // 深拷贝
        // function clone(obj) {
        //     // 判断obj是对象还是数组
        //     let o = obj.constructor == Array ? [] : {};
        //     // let o = {};
        //     for (let key in obj) {
        //         if(typeof obj[key] == 'object'){
        //             o[key] = clone(obj[key])
        //         }else{
        //             o[key] = obj[key]
        //         }
        //     }
        //     return o
        // }
        // let obj3 = clone(obj1);
        // obj3.age = 25;
        // obj3.brother.name = "zhaosi";
        // // 对象里有对象，未加判断typeof之前 brother内的name变化
        // // console.log('obj3', obj3); //{name: "lisi", age: 25, brother: {name: "zhaosi", age: 23}}
        // // console.log('obj1', obj1); //{name: "lisi", age: 20, brother: {name: "zhaosi", age: 23}}
        // // 对象里有对象，加判断typeof之后 brother内的name不变
        // console.log('obj3', obj3); //{name: "lisi", age: 25, brother: {name: "zhaosi", age: 23}}
        // console.log('obj1', obj1); //{name: "lisi", age: 20, brother: {name: "wangwu", age: 23}}

        // let arr1 = [1,2,[3,4]];
        // let arr2 = clone(arr1);
        // arr1[2][1] = 666;
        // 对象里有对象，未加判断typeof之前 brother内的name变化
        // console.log('obj3', obj3); //{name: "lisi", age: 25, brother: {name: "zhaosi", age: 23}}
        // console.log('obj1', obj1); //{name: "lisi", age: 20, brother: {name: "zhaosi", age: 23}}
        // 对象里有对象，加判断typeof之后 brother内的name不变
        // console.log('arr2', arr2); //[1, 2, [3,666]]
        // console.log('arr1', arr1); //[1, 2, [3,4]]
    </script>
</body>

</html>